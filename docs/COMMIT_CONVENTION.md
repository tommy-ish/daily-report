# コミットメッセージ規約

このプロジェクトでは [Conventional Commits](https://www.conventionalcommits.org/) に従ったコミットメッセージを使用しています。

## フォーマット

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type（必須）

コミットの種類を示します：

- **feat**: 新機能の追加
- **fix**: バグ修正
- **docs**: ドキュメントのみの変更
- **style**: コードの意味に影響を与えない変更（空白、フォーマット、セミコロンなど）
- **refactor**: バグ修正や機能追加ではないコードの変更
- **perf**: パフォーマンス改善
- **test**: テストの追加・修正
- **chore**: ビルドプロセスやツールの変更
- **revert**: コミットの取り消し
- **build**: ビルドシステムや外部依存関係の変更
- **ci**: CI設定ファイルやスクリプトの変更

### Scope（任意）

変更の影響範囲を示します：

- `auth`: 認証関連
- `api`: API関連
- `ui`: UI関連
- `db`: データベース関連
- `prisma`: Prismaスキーマ関連
- `test`: テスト関連
- `deps`: 依存関係

### Subject（必須）

変更内容の簡潔な説明（100文字以内）：

- 命令形で書く（例: "add" であって "added" ではない）
- 最初の文字は小文字
- 末尾にピリオド（.）を付けない

### Body（任意）

変更の詳細な説明：

- 何を変更したかではなく、なぜ変更したかを説明
- 変更前の動作と変更後の動作を説明

### Footer（任意）

重要な変更や参照を記載：

- **BREAKING CHANGE**: 破壊的変更の説明
- **Closes**: 関連するIssue番号（例: Closes #123）

## 例

### 新機能の追加

```
feat(auth): ログイン機能を追加

- メールアドレスとパスワードによる認証
- セッション管理
- CSRF対策

Closes #42
```

### バグ修正

```
fix(api): 日報作成時のバリデーションエラーを修正

同じ日付の日報が既に存在する場合のエラーメッセージが
正しく表示されない問題を修正

Closes #58
```

### ドキュメント更新

```
docs: READMEにテスト実行方法を追加
```

### リファクタリング

```
refactor(db): Prismaクライアントのシングルトンパターンに変更

開発環境でのホットリロード時に複数のインスタンスが
作成される問題を解決
```

### パフォーマンス改善

```
perf(api): 日報一覧取得のクエリを最適化

N+1問題を解決し、レスポンスタイムを50%改善
```

### テスト追加

```
test(components): Buttonコンポーネントのテストを追加

- クリックイベントのテスト
- disabled状態のテスト
```

### ビルド・CI関連

```
chore(deps): 依存関係を更新
```

```
ci: GitHub ActionsにE2Eテストを追加
```

## 自動チェック

コミット時に自動的にチェックされます：

1. **pre-commit**: Lint、フォーマット、関連するテストを実行
2. **commit-msg**: コミットメッセージの形式をチェック
3. **pre-push**: 型チェック、全テストを実行

## commitlintのバイパス（非推奨）

緊急時のみ使用：

```bash
git commit --no-verify -m "emergency fix"
```

**注意**: 可能な限り規約に従ったコミットメッセージを使用してください。
